(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index1-survey-detail"],{"54d5":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,"uni-page-body[data-v-8aa984c0]{background:#f3f3f3}.test-list[data-v-8aa984c0]{width:94%;border-radius:%?10?%;padding:%?15?% 3%;margin:auto;margin-top:%?20?%;background:#fff}.test-title[data-v-8aa984c0]{width:100%;font-size:14px;font-weight:700;line-height:%?50?%}.test-end[data-v-8aa984c0],.test-point[data-v-8aa984c0],.test-range[data-v-8aa984c0],.test-time[data-v-8aa984c0]{font-size:14px;line-height:%?40?%}.test-info[data-v-8aa984c0]{width:60%;float:left}.question-list[data-v-8aa984c0]{width:94%;margin:%?20?% auto;background:#fff;border-radius:%?10?%;padding:%?15?% %?25?%}.question-title[data-v-8aa984c0]{line-height:%?50?%;font-size:14px;font-weight:700}.question-answer[data-v-8aa984c0]{width:100%}.question-answer-list[data-v-8aa984c0]{min-height:%?70?%;line-height:%?70?%;border:1px solid #e8e8e8;margin:%?20?% %?10?%;padding:0 %?20?%;border-radius:%?10?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.answer-list-check[data-v-8aa984c0]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.answer-check-true[data-v-8aa984c0]{height:%?38?%;width:%?38?%;margin:%?16?% auto;background:#e93a30;text-align:center;line-height:%?38?%;color:#fff}.answer-check-false[data-v-8aa984c0]{height:%?38?%;width:%?38?%;margin:%?16?% auto;border:1px solid #e8e8e8}.answer-list-text[data-v-8aa984c0]{-webkit-box-flex:10;-webkit-flex:10;-ms-flex:10;flex:10;padding-left:%?10?%}body.?%PAGE?%[data-v-8aa984c0]{background:#f3f3f3}",""])},"6dab":function(e,t,i){"use strict";var s=i("f2f6"),n=i.n(s);n.a},"77b6":function(e,t,i){"use strict";i.r(t);var s=i("d0a8"),n=i.n(s);for(var a in s)"default"!==a&&function(e){i.d(t,e,function(){return s[e]})}(a);t["default"]=n.a},a00b:function(e,t,i){"use strict";i.r(t);var s=i("beef"),n=i("77b6");for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);i("6dab");var u=i("2877"),o=Object(u["a"])(n["default"],s["a"],s["b"],!1,null,"8aa984c0",null);t["default"]=o.exports},beef:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"test-list"},[i("v-uni-view",{staticClass:"test-title"},[e._v(e._s(e.exam.survey_title))]),i("v-uni-view",{staticClass:"test-range"},[e._v("问卷范围："+e._s(e.exam.party_name))]),i("v-uni-view",{staticClass:"clear"})],1),e.survey_info?i("v-uni-view",[e._l(e.survey_info,function(t,s){return i("v-uni-view",{staticClass:"question-list"},[i("v-uni-view",{staticClass:"question-title"},[e._v(e._s(s+1)+"."+e._s(t.questions_title)+"（"+e._s(t.questions_type)+"）")]),i("v-uni-view",{staticClass:"question-answer"},["多选"==t.questions_type?i("v-uni-view",e._l(t.questions_item,function(n,a){return i("v-uni-view",[i("v-uni-view",{staticClass:"question-answer-list",on:{click:function(i){i=e.$handleEvent(i),e.answerClick(t.questions_id,a,"checkbox",s)}}},[i("v-uni-view",{staticClass:"answer-list-check"},[1==n.checked?i("v-uni-view",{staticClass:"answer-check-true  icon iconfont"},[e._v("")]):i("v-uni-view",{staticClass:"answer-check-false"})],1),i("v-uni-view",{staticClass:"answer-list-text"},[e._v(e._s(n.text))])],1)],1)}),1):i("v-uni-view",[i("v-uni-radio-group",e._l(t.questions_item,function(s,n){return i("v-uni-label",{staticClass:"radio",on:{click:function(i){i=e.$handleEvent(i),e.answerClick(t.questions_id,n,"radio")}}},[i("v-uni-view",{staticClass:"question-answer-list"},[i("v-uni-radio",{staticClass:"answer-list-check",staticStyle:{transform:"scale(0.8)"},attrs:{color:"#e93a30"}}),i("v-uni-view",{staticClass:"answer-list-text"},[e._v(e._s(s))])],1)],1)}),1)],1),i("v-uni-view",{staticStyle:{color:"red"}},[e._v(e._s(t.desc))])],1)],1)}),i("v-uni-view",{staticClass:"footer"}),0==e.status?i("v-uni-view",{staticClass:"form-btn",on:{click:function(t){t=e.$handleEvent(t),e.subAnswer()}}},[e._v("提交")]):e._e()],2):i("v-uni-view",{staticClass:"no-data"},[i("v-uni-view",{staticClass:"no-data-icon icon iconfont"},[e._v(";")]),i("v-uni-view",{staticClass:"no-data-text"},[e._v("暂无数据")])],1)],1)},n=[];i.d(t,"a",function(){return s}),i.d(t,"b",function(){return n})},d0a8:function(e,t,i){"use strict";var s=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(i("f499"));i("28a5");var a={data:function(){return{survey_info:[],exam:"",selectKey:[],survey_id:"",status:""}},onLoad:function(e){uni.showLoading();var t=this;t.survey_id=e.id,t.status=e.status;var i={survey_id:t.survey_id,status:t.status};t.urlRequest.urlRequest(t.func.getSurveyInfo,i,function(e){if(t.survey_info=e.data.survey_info.questions_list,1==t.status)for(var i=0;i<t.survey_info.length;i++){var s=t.survey_info[i]["item"],n="",a=0,u="";if(s){for(var o=0;o<s.length;o++)a=1*a+1*s[o]["count"],u+=s[o]["count"]+"人选"+s[o]["answer_item"]+" ";n="本选项总计有效票数"+a+"票，其中"+u}t.survey_info[i]["desc"]=n}t.exam=e.data.survey_info.survey_info,uni.hideLoading()})},methods:{answerClick:function(e,t,i,s){var n=this,a="",u=[];if(0==t?a="A":1==t?a="B":2==t?a="C":3==t?a="D":4==t?a="E":5==t?a="F":6==t?a="G":7==t&&(a="H"),n.selectKey.length<=0)"checkbox"==i&&(n.survey_info[s]["questions_item"][t]["checked"]=1!=n.survey_info[s]["questions_item"][t]["checked"]),u={questions_id:e,select:a},n.selectKey.push(u);else{var o=n.selectKey,c=!1;if("radio"==i){for(var r=0;r<o.length;r++)o[r]["questions_id"]==e&&(o[r]={questions_id:e,select:a},c=!0);0==c&&(u={questions_id:e,select:a},n.selectKey.push(u))}else{n.survey_info[s]["questions_item"][t]["checked"]=1!=n.survey_info[s]["questions_item"][t]["checked"];for(r=0;r<o.length;r++)if(o[r]["questions_id"]==e)if(o[r]["select"].length<=0)o.splice(r,1),u={questions_id:e,select:a},n.selectKey.push(u),c=!0;else{for(var l=o[r]["select"].split(","),d=0;d<l.length;d++)l[d]==a&&(l.splice(d,1),c=!0,a=l.join(","),""==a?o.splice(r,1):(u={questions_id:e,select:a},o[r]=u));0==c&&(l.push(a),a=l.join(","),u={questions_id:e,select:a},o[r]=u,c=!0)}0==c&&(u={questions_id:e,select:a},o.push(u),c=!0)}}},subAnswer:function(e){var t=this;t.survey_info.length!=t.selectKey.length?uni.showModal({title:"提示",content:"您还有未选择的题目，确定提交吗？",success:function(e){e.confirm?t.submitContent():e.cancel&&console.log("取消")}}):t.submitContent()},submitContent:function(){var e=this,t=e.selectKey;uni.showLoading();for(var i=0;i<t.length;i++)t[i]=(0,n.default)(t[i]);var s={survey_id:e.survey_id,communist_no:e.globalData.userInfo.communist_no,answer_list:t.join("|",t)};e.urlRequest.urlRequest(e.func.setSurvey,s,function(e){1==e.data.status?uni.showToast({title:e.data.msg,duration:2e3,icon:"none",success:function(){setTimeout(function(){uni.navigateTo({url:"../index1/survey"})},2e3)}}):uni.showToast({title:e.data.msg,duration:2e3,icon:"none"}),uni.hideLoading()})}}};t.default=a},f2f6:function(e,t,i){var s=i("54d5");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var n=i("4f06").default;n("f9748d74",s,!0,{sourceMap:!1,shadowMode:!1})}}]);